#!/usr/bin/env python 
# -*- coding:utf-8 -*-
from keras.models import load_model
import numpy as np
import pandas as pd

AIYOUData = pd.read_csv(r""
                        , encoding="gbk")
# 目标变量
target_var = "donate_psn_name"
# 数据集特征
features = list(AIYOUData.columns)
features.remove(target_var)
# 目标变量的类别
Class = AIYOUData[target_var].unique()

# 目标变量的类别字典
Class_dict = dict(zip(Class, range(len(Class))))
# 增加一列target用于编码
load_modell = load_model(r"")
dataarr = [[8, 0, 1, 8, 1141, 0, 0, 40000, 40000, 0],
           [27, 0, 1, 20, 1284, 1, 1, 5082.23, 40000, 0],
           [20, 1, 2, 84, 2248, 1, 1, 876.25, 0, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [20, 0, 1, 83, 430, 5, 0, 11037.78, 11037.78, 1],
           [20, 1, 2, 84, 2248, 1, 1, 876.25, 0, 0],
           [27, 0, 1, 20, 1284, 1, 1, 5082.23, 40000, 0],
           [27, 0, 1, 8, 569, 8, 0, 40000, 40000, 0],
           [27, 0, 1, 20, 1947, 1, 2, 50000, 50000, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [14, 0, 1, 83, 528, 0, 2, 29328.24, 29328.24, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [25, 0, 1, 38, 1062, 11, 0, 44605.05, 44605.05, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [20, 1, 2, 84, 2248, 1, 1, 876.25, 0, 0],
           [20, 1, 2, 84, 2248, 1, 1, 876.25, 0, 0],
           [7, 0, 1, 45, 451, 14, 0, 9000, 9000, 0],
           [24, 0, 1, 11, 1894, 15, 0, 21649.19, 21649.19, 0],
           [27, 0, 1, 83, 2061, 17, 0, 6474.68, 6474.68, 0],
           [22, 1, 12, 45, 1215, 1, 1, 2133.88, 0, 0],
           [20, 0, 1, 45, 1687, 5, 0, 16000, 16000, 0],
           [20, 0, 1, 16, 913, 18, 0, 27000, 27000, 0],
           [24, 0, 1, 8, 841, 15, 0, 17019.94, 17019.94, 0],
           [27, 0, 1, 45, 653, 17, 0, 5585.17, 5585.17, 0],
           [3, 0, 1, 83, 1920, 19, 0, 17761.07, 17761.07, 0],
           [22, 0, 1, 83, 1643, 20, 0, 22399.15, 22399.15, 0],
           [8, 0, 1, 45, 596, 12, 0, 10000, 10000, 0],
           [22, 1, 11, 20, 156, 4, 1, 2954.96, 0, 1],
           [27, 0, 1, 20, 2246, 1, 1, 40000, 40000, 0],
           [10, 0, 1, 82, 784, 21, 0, 40000, 40000, 0],
           [27, 0, 1, 45, 249, 17, 0, 5597.11, 5597.11, 0],
           [16, 0, 1, 45, 940, 22, 2, 38033.99, 38033.99, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [20, 0, 1, 45, 351, 5, 0, 30259.7, 30259.7, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [27, 0, 1, 81, 133, 17, 0, 11186.82, 11186.82, 0],
           [23, 0, 1, 45, 445, 24, 2, 28694.87, 28694.87, 0],
           [22, 0, 1, 20, 2279, 4, 1, 3324.41, 40000, 0],
           [27, 0, 1, 20, 1284, 1, 1, 5082.23, 40000, 0],
           [27, 0, 1, 20, 1284, 1, 1, 5082.23, 40000, 0],
           [20, 0, 1, 53, 1973, 5, 0, 9839.04, 9839.04, 0],
           [16, 0, 1, 56, 85, 7, 0, 50000, 50000, 0],
           [20, 1, 2, 84, 2248, 1, 1, 876.25, 0, 0],
           [20, 0, 1, 53, 819, 5, 0, 11432.01, 11432.01, 0]]
for i in dataarr:
    np.set_printoptions(precision=4)
    unknown = np.array([i], dtype=np.float32)
    predicted = load_modell.predict(unknown)
    species_dict = {v: k for k, v in Class_dict.items()}
    print(species_dict[np.argmax(predicted)])
